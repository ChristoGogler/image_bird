<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="css/style.css" />
        <title></title>
    </head>
    <body>
        <header></header>
        <main id="main">
            <h1 v-on:click="changeHeading">{{heading}}</h1>
            <section id="uploadForm">
                <form
                    id="uploadForm"
                    enctype="multipart/form-data"
                    action="/api/upload"
                    method="POST"
                >
                    <input
                        class="textfield"
                        id="title"
                        type="text"
                        name="title"
                        placeholder="title"
                        v-model="title"
                    />
                    <input
                        class="textfield"
                        id="description"
                        type="text"
                        name="description"
                        placeholder="description"
                        v-model="description"
                    />
                    <input
                        class="textfield"
                        id="username"
                        type="text"
                        name="username"
                        placeholder="username"
                        v-model="username"
                    />
                    <input
                        class="textfield"
                        id="picture"
                        type="file"
                        accept="image/*"
                        name="picture"
                        v-on:change="insertFile"
                        required
                    />
                    <button v-on:click="uploadFile" type="submit">
                        Upload
                    </button>
                </form>
            </section>
            <section id="board" class="board">
                <single-picture
                    v-for="image in images"
                    v-bind:id="image.id"
                    v-bind:url="image.url"
                    v-bind:title="image.title"
                    v-bind:description="image.description"
                    v-bind:username="image.username"
                    @image-clicked="openSinglePic(image.id)"
                ></single-picture>
            </section>
            <light-box
                v-if="currentImageId"
                :id="currentImageId"
                @button-clicked="closeSinglePic()"
            ></light-box>
        </main>
        <footer></footer>

        <script src="/js/vue.js"></script>
        <script src="/js/axios.min.js"></script>
        <script src="js/script.js"></script>
        <!-- single-picture component -->

        <script id="singlePicture" type="text/x-template">
            <div class="photoframe" @click="emitClick(id)">
                <img v-bind:src="url" v-bind:alt="title" />
                <p>{{title}}</p>
            </div>
        </script>
        <script id="lightBox" type="text/x-template">
            <div class="backdrop"">
                <p> hello lightbox! </p>
                <button id="closeButton" @click="emitClick()">Close</button>
            </div>
        </script>
    </body>
</html>
